val l=java.io.File("./input.txt").readLines();enum class C{R,G,B;companion object{fun g(s:String):C=when(s){"red"->R;"green"->G;"blue"->B;else->R}}}fun f(l:String)=l.split(": ")[1].split("; ").flatMap{g->g.split(", ")}.fold(intArrayOf(0,0,0)){x,y->val(a,b)=y.split(" ");val i=a.toInt();val j=C.g(b);x[j.ordinal]=maxOf(x[j.ordinal],i);x}var r=0;l.forEachIndexed{i,l->if(f(l).zip(12..14).all{(c,m)->c<=m})r+=i+1};print("$r ${l.sumOf{f(it).reduce{a,b->a*b}}}")