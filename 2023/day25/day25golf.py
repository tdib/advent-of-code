import networkx as x;g=x.Graph();[g.add_edge(line.split(":")[0],conn)for line in open("input.txt").readlines()for conn in line.split(":")[1].split()];g.remove_edges_from(x.minimum_edge_cut(g));a,b=map(len,x.connected_components(g));print(a*b)